<!DOCTYPE html>
<html>

<head>

	<style>
		* {
			padding: 0;
			margin: 0;
		}
		
		canvas {
			background: blue;
			display: block;
			margin: 0 auto;
		}
	</style>

<title>pewpewpew!</title>
</head>

<body>

	<canvas id="myCanvas" width="1340" height="625">   </canvas>

	<body style="background-color:green;">
		

		<SCRIPT LANGUAGE="JavaScript">
			var canvas = document.getElementById("myCanvas");
			var ctx = canvas.getContext("2d");

      
      		

        
	      
        var player1;
        var player2;
        var bullet = [];
	var index = 0;
	var bulletNumber = 0;
        
        //var pointScored = false;
        
	      
        
        player1 = {
		Xpos:100,
		Ypos:canvas.height/2,
		angle:0,
		left:0,
		right:0,
		forwards:0,
		backwards:0,
		score:0,
		shooting:0,
		cooldown:0
	}
	player2 = {
		Xpos:canvas.width-100,
		Ypos:canvas.height/2,
		angle:0,
		left:0,
		right:0,
		forwards:0,
		backwards:0,
		score:0,
		shooting
		cooldown:0
	}
        
	      
	bullet[0] = {
		Xpos:0,
		Ypos:0,
		Xspeed:0,
		Yspeed:0
	}
        
        
        
      function draw() {
				
		ctx.clearRect(0, 0, canvas.width, canvas.height);
		
        
        
        
        
        
        
       		ctx.beginPath();
  		ctx.moveTo(player1.Xpos + Math.sin(player1.angle)*40, player1.Ypos + Math.cos(player1.angle)*40);
		ctx.lineTo(player1.Xpos + Math.sin(player1.angle + 2.5)*25, player1.Ypos + Math.cos(player1.angle + 2.5)*25);
 		ctx.lineTo(player1.Xpos + Math.sin(player1.angle - 2.5)*25, player1.Ypos + Math.cos(player1.angle - 2.5)*25);
 		ctx.fillStyle = "grey";
                ctx.fill();
                ctx.closePath();
	      
	     	ctx.beginPath();
  		ctx.moveTo(player2.Xpos + Math.sin(player2.angle)*40, player2.Ypos + Math.cos(player2.angle)*40);
		ctx.lineTo(player2.Xpos + Math.sin(player2.angle + 2.5)*25, player2.Ypos + Math.cos(player2.angle + 2.5)*25);
 		ctx.lineTo(player2.Xpos + Math.sin(player2.angle - 2.5)*25, player2.Ypos + Math.cos(player2.angle - 2.5)*25);
 		ctx.fillStyle = "grey";
                ctx.fill();
                ctx.closePath();
        
        
        	
        
        
        
        
        
        
        		document.addEventListener("keydown", keyDownHandler, false);
			document.addEventListener("keyup", keyUpHandler, false);
			function keyDownHandler(e) {
				
				if(e.keyCode == 65){player1.left = 1;}
				if(e.keyCode == 68){player1.right = 1;}
				if(e.keyCode == 87){player1.forwards = 1;}
				if(e.keyCode == 81){player1.shooting = 1;}
				
				if(e.keyCode == 37){player2.left = 1;}
				if(e.keyCode == 39){player2.right = 1;}
				if(e.keyCode == 38){player2.forwards = 1;}
				if(e.keyCode == 38){player2.shooting = 1;}
				
				
			}
	      		function keyUpHandler(e) {
				
				if(e.keyCode == 65){player1.left = 0;}
				if(e.keyCode == 68){player1.right = 0;}
				if(e.keyCode == 87){player1.forwards = 0;}
				if(e.keyCode == 87){player1.shooting = 0;}
				
				if(e.keyCode == 37){player2.left = 0;}
				if(e.keyCode == 39){player2.right = 0;}
				if(e.keyCode == 38){player2.forwards = 0;}
				if(e.keyCode == 38){player2.shooting = 0;}
			}
	      
	      
	      if(player1.left == 1){player1.angle += 0.05;}
	      if(player1.right == 1){player1.angle -= 0.05;}
	      if(player2.left == 1){player2.angle += 0.05;}
	      if(player2.right == 1){player2.angle -= 0.05;}
	      
	      if(player1.forwards == 1){
		      player1.Xpos += Math.sin(player1.angle)*3;
		      player1.Ypos += Math.cos(player1.angle)*3;
	      }
	      if(player2.forwards == 1){
		      player2.Xpos += Math.sin(player2.angle)*3;
		      player2.Ypos += Math.cos(player2.angle)*3;
	      }
	      
	      if(player1.shooting == 1){
		      if(player1.cooldown == 0){
			      bullet[bulletNumber].Xpos = player1.Xpos;
			      bullet[bulletNumber].Ypos = player1.Ypos;
			      bullet[bulletNumber].Xspeed = Math.sin(player1.angle);
			      bullet[bulletNumber].Yspeed = Math.cos(player1.angle);
			      bulletNumber = 1;
			      if(bulletNumber >= 10){bulletNumber = 0;
			      player1.cooldown = 10;
		      }
		      else {player1.cooldown -= 1;}
	      }
	      
	      
	      
        
        
        
        }
			setInterval(draw, 10);
		</SCRIPT>

	</body>

</html>
