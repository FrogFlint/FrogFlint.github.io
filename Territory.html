<!DOCTYPE html>
<html>

<head>

	<style>
		* {
			padding: 0;
			margin: 0;
		}
		
		canvas {
			background: black;
			display: block;
			margin: 0 auto;
		}
	</style>

<title>Territory wars</title>
</head>

<body>

	<canvas id="myCanvas" width="1350" height="625">   </canvas>

	<body style="background-color:black;">

		<SCRIPT LANGUAGE="JavaScript">
    
			//var canvas = document.getElementById("myCanvas");
			var ctx = canvas.getContext("2d");
			
			var speed = 10;
			
			var setup = "random"; //random, sides
			var scale = 10; // between 1 and 50
			var index1 = 0;
     			var index2 = 0;
			var index1Max = 20*scale;
			var index2Max = 10*scale;
			var tileSize = 50/scale;
			var rand = 0;
			var spreadChance = 8;  //fraction
			var tile = [[]];
			//var tileArray = [];
			
			
			
			
			//========================================================================
			
			
			
			index1 = 0;
				while(index1 <= index1Max){
					tile[index1] = [];
					index2 = 0;
					while(index2 <= index2Max){
						
						if(setup == "random"){
							rand = Math.random()*2;
							if(rand <= 1){tile[index1][index2] = {
								color:"lime",
								nextColor:"lime",
							}}
							else{tile[index1][index2] = {
								color:"blue",
								nextColor:"blue",
							}}
						}
						if(setup == "sides"){
							if(index1 >= index1Max/2){tile[index1][index2] = {
								color:"lime",
								nextColor:"lime",
							}}
							else{tile[index1][index2] = {
								color:"blue",
								nextColor:"blue",
							}}
							
						}
						
						index2 += 1;
					}
					index1 += 1;
				}
			
			
			
			
			
			
			
			
		
			//========================================================================
			function draw() {
				
					ctx.clearRect(0, 0, canvas.width, canvas.height);
          
          
				//document.addEventListener("keydown", keyDownHandler, false);
				//document.addEventListener("keyup", keyUpHandler, false);
				
				//function keyDownHandler(e) {}
        			//function keyUpHandler(e) {}
        
				
				
				
				
        			index1 = 0;
				while(index1 <= index1Max){
					index2 = 0;
					while(index2 <= index2Max){
						
						
						rand = Math.random()*4;
						
						if(rand <= 1){
						if(index1 != 0){
							rand = Math.random()*spreadChance;
							if(rand <= 1){
								tile[index1 - 1][index2].nextColor = tile[index1][index2].color;
							}
						}}
						if(rand <= 2){
						if(index2 != 0){
							rand = Math.random()*spreadChance;
							if(rand <= 1){
								tile[index1][index2 - 1].nextColor = tile[index1][index2].color;
							}
						}}
						if(rand <= 3){
						if(index1 != index1Max){
							rand = Math.random()*spreadChance;
							if(rand <= 1){
								tile[index1 + 1][index2].nextColor = tile[index1][index2].color;
							}
						}}
						//always
						if(index2 != index2Max){
							rand = Math.random()*spreadChance;
							if(rand <= 1){
								tile[index1][index2 + 1].nextColor = tile[index1][index2].color;
							}
						}
						if(rand >= 1){
						if(index1 != 0){
							rand = Math.random()*spreadChance;
							if(rand <= 1){
								tile[index1 - 1][index2].nextColor = tile[index1][index2].color;
							}
						}}
						if(rand >= 2){
						if(index2 != 0){
							rand = Math.random()*spreadChance;
							if(rand <= 1){
								tile[index1][index2 - 1].nextColor = tile[index1][index2].color;
							}
						}}
						if(rand >= 3){
						if(index1 != index1Max){
							rand = Math.random()*spreadChance;
							if(rand <= 1){
								tile[index1 + 1][index2].nextColor = tile[index1][index2].color;
							}
						}}
						
						
						
						index2 += 1;
					}
					index1 += 1;
				}
				
				
				
				
				
				index1 = 0;
				while(index1 <= index1Max){
					index2 = 0;
					while(index2 <= index2Max){
						
						tile[index1][index2].color = tile[index1][index2].nextColor;
						
						ctx.beginPath();
						ctx.rect(index1*tileSize, index2*tileSize, tileSize, tileSize);
						ctx.fillStyle = tile[index1][index2].color;
						ctx.fill();
						ctx.closePath();
						
						index2 += 1;
					}
					index1 += 1;
				}
        
        
        
        
        
        
        
        
        
        
			}
			setInterval(draw, speed);
		</SCRIPT>

	</body>

</html>
