<!DOCTYPE html>
<html>

<head>

	<style>
		* {
			padding: 0;
			margin: 0;
		}
		
		canvas {
			background: black;
			display: block;
			margin: 0 auto;
		}
	</style>

<title>Terrain Generator</title>
</head>

<body>

	<canvas id="myCanvas" width="1350" height="625">   </canvas>

	<body style="background-color:black;">

		<SCRIPT LANGUAGE="JavaScript">
    
			var canvas = document.getElementById("myCanvas");
			var ctx = canvas.getContext("2d");
			
			var speed = 500;
			
			var rand1 = 0;
			var rand2 = 0;
			
			var stage = "change";  //highlight, change
			var stop = 0;
			
			var heightMax = 10;
			var scale = 1; // between 1 and 50
			var index1 = 0;
     			var index2 = 0;
			var index1Max = 20*scale;
			var index2Max = 10*scale;
			var tileSize = 50/scale;
			var tile = [[]];
			
			
			
			
			//========================================================================
			
			index1 = 0;
			while(index1 <= index1Max){
					tile[index1] = [];
          				index2 = 0;
          				while(index2 <= index2Max){
						
						tile[index1][index2] = {
							height:0,
							color:"black",  //black, red, orange, green
							exactColor:"#000000"
						}
						
						index2 += 1;
					}
				index1 += 1;
			}
			
			
			
			rand1 = Math.floor(Math.random()*(index1Max + 1));
			rand2 = Math.floor(Math.random()*(index2Max + 1));
			tile[rand1][rand2].height = Math.floor(Math.random()*(heightMax+1));
			tile[rand1][rand2].color = "green";
			
			
		
			//============================================================================================================================================
			function draw() {
				
					ctx.clearRect(0, 0, canvas.width, canvas.height);
				
				
			
          
          
				//document.addEventListener("keydown", keyDownHandler, false);
				//document.addEventListener("keyup", keyUpHandler, false);
				
				//function keyDownHandler(e) {}
        			//function keyUpHandler(e) {}
        
				
				stop = 0;
				
				if(stage == "highlight"){
				   	
					index1 = 0;
					while(index1 <= index1Max){
						index2 = 0;
						while(index2 <= index2Max){
							
							if(tile[index1][index2].color == "green"){
								/*
								if(index1 < index1Max){
									if(tile[index1+1][index2].color == "black"){
										tile[index1+1][index2].color = "red";
								}	}
								if(index2 < index2Max){
									if(tile[index1][index2+1].color == "black"){
										tile[index1][index2+1].color = "red";
								}	}
								if(index1 < 0){
									if(tile[index1-1][index2].color == "black"){
										tile[index1-1}[index2].color = "red";
								}	}
								if(index2 < 0){
									if(tile[index1][index2-1].color == "black"){
										tile[index1][index2-1].color = "red";
								}	}*/
								
							}
							
							index2 += 1;
						}
						index1 += 1;
					}
				   	stage = "change";
				}
				else if(stage == "change"){
					
					index1 = 0;
					while(index1 <= index1Max){
						index2 = 0;
						if(stop == 0){while(index2 <= index2Max){
							if(stop == 0){
								/*while(tile[index1][index2].color == "red"){
									
									rand1 = Math.random()*4;
									tile[index1][index2].color = "green";
									if(rand1 < 1){
										if(tile[index1+1][index2].color == "green"){
											tile[index1][index2].height = tile[index1+1][index2].height;
										}
									}
									else if(rand1 < 2){
										if(tile[index1][index2+1].color == "green"){
											tile[index1][index2].height = tile[index1][index2+1].height;
										}
									}
									else if(rand1 < 3){
										if(tile[index1-1][index2].color == "green"){
											tile[index1][index2].height = tile[index1-1][index2].height;
										}
									}
									else if(rand1 < 4){
										if(tile[index1][index2-1].color == "green"){
											tile[index1][index2].height = tile[index1][index2-1].height;
										}
									}
									
									
								}*/
								
							}
							index2 += 1;
						}}
						index1 += 1;
					}
					stage = "highlight";
				}
				
				
				
				
				
				
				
				
				
				index1 = 0;
				while(index1 <= index1Max){
					index2 = 0;
					while(index2 <= index2Max){
						
						if(tile[index1][index2].color == "black"){
							tile[index1][index2].exactColor = "#000000";}
						if(tile[index1][index2].color == "red"){
							tile[index1][index2].exactColor = "#ff0000";}
						if(tile[index1][index2].color == "orange"){
							tile[index1][index2].exactColor = "#ffff00";}
						if(tile[index1][index2].color == "green"){
							
							if(tile[index1][index2].height == 0){
								tile[index1][index2].exactColor = "#006600";}
							if(tile[index1][index2].height == 1){
								tile[index1][index2].exactColor = "#008000";}
							if(tile[index1][index2].height == 2){
								tile[index1][index2].exactColor = "#009900";}
							if(tile[index1][index2].height == 3){
								tile[index1][index2].exactColor = "#00b300";}
							if(tile[index1][index2].height == 4){
								tile[index1][index2].exactColor = "#00cc00";}
							if(tile[index1][index2].height == 5){
								tile[index1][index2].exactColor = "#00e600";}
							if(tile[index1][index2].height == 6){
								tile[index1][index2].exactColor = "#1aff1a";}
							if(tile[index1][index2].height == 7){
								tile[index1][index2].exactColor = "#33ff33";}
							if(tile[index1][index2].height == 8){
								tile[index1][index2].exactColor = "#4dff4d";}
							if(tile[index1][index2].height == 9){
								tile[index1][index2].exactColor = "#66ff66";}
							if(tile[index1][index2].height == 10){
								tile[index1][index2].exactColor = "#80ff80";}
								
							
								
							
						}
						
						ctx.beginPath();
						ctx.rect(index1*tileSize, index2*tileSize, tileSize, tileSize);
						ctx.fillStyle = tile[index1][index2].exactColor;
						ctx.fill();
						ctx.closePath();
						
						index2 += 1;
					}
					index1 += 1;
				}
        
        
        
        
        
        
        
        
			}
			setInterval(draw, speed);
		</SCRIPT>

	</body>

</html>
