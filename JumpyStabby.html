<!DOCTYPE html>
<html>

<head>

	<style>
		* {
			padding: 0;
			margin: 0;
		}
		
		canvas {
			background: silver;
			display: block;
			margin: 0 auto;
		}
	</style>

<title>It's Super Maro 2D Galaxy!</title>
</head>

<body>

	<canvas id="myCanvas" width="1200" height="600">   </canvas>

	<body style="background-color:gray;">

		<SCRIPT LANGUAGE="JavaScript">
    
			var canvas = document.getElementById("myCanvas");
			var ctx = canvas.getContext("2d");
			
			var speed = 20;
			
			
      			var maro;
			
			
      
			var tile = [[]];
			var index1 = 0;
     			var index2 = 0;
			var index1Max = 200;
			var index2Max = 10;
			
			var level = 0;
			var levelLayout = [[[]]];
			
			
			
			
			
			//========================================================================
			
			maro = {
				Xpos:0,
				Ypos:canvas.height-60,
				Xspeed:0,
				Yspeed:0,
				left:0,
				right:0,
				jump:0,
				onGround:0,
				onWall:0,
				isDead:0,
				lives:10,
			}		
			
			
			level = 0;
			
			/*
			space = air
			w = wall
			s = spikes
			1 = player1
			2 = player2
			g = goal
			*/
			
			levelLayout[1] = [
				[" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "],
				[" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "],
				[" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "],
				[" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "],
				[" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "],
				[" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "],
				[" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "],
				[" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "],
				[" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "],
				[" "," "," "," "," "," "," "," "," ","s"," "," "," "," "," "," "," "," "," "," "," "," "," "," "],
				[" "," "," ","s"," "," "," "," "," ","s"," "," "," "," "," "," "," "," "," "," "," "," "," "," "],
				[" "," "," ","s"," "," "," "," "," ","s"," "," "," "," "," "," "," "," "," "," "," "," "," "," "]
			]
			
		
			//============================================================================================================================================
			function draw() {
				
					ctx.clearRect(0, 0, canvas.width, canvas.height);
				
				
			
          
          
				document.addEventListener("keydown", keyDownHandler, false);
				document.addEventListener("keyup", keyUpHandler, false);
				
				function keyDownHandler(e) {
					if(e.keyCode == 37){maro.left = 1;}
					if(e.keyCode == 39){maro.right = 1;}
					if(e.keyCode == 38){maro.jump = 1;}
				}
        			function keyUpHandler(e) {
					if(e.keyCode == 37){maro.left = 0;}
					if(e.keyCode == 39){maro.right = 0;}
					if(e.keyCode == 38){maro.jump = 0;}
				}
        			//key inputs
				
				
				
				
				if (maro.Ypos + 60 > canvas.height){
					maro.Ypos = canvas.height;
					maro.Yspeed = 0;
				}//detecting when player is in the ground
				
				
				
				
				
				if (maro.left == 1 && maro.right == 0){maro.Xspeed -= 2;}
				if (maro.left == 0 && maro.right == 1){maro.Xspeed += 2;}
				if (maro.left == maro.right){
					if (maro.Xspeed > 0){maro.Xspeed -= 2;}
					if (maro.Xspeed < 0){maro.Xspeed += 2;}
				}
				if (maro.jump == 1 /*&& maro.onGround == 1*/){maro.Yspeed = -12;}
				//move and jump
				
				if(maro.Xspeed > 10){maro.Xspeed = 10;}
				if(maro.Xspeed < -10){maro.Xspeed = -10;}
				if(maro.Yspeed > 30){maro.Yspeed = 30;}
				
				
				
				if (maro.Ypos + 60 >= canvas.height){
					maro.onGround = 1;
				}//detecting when player is on the ground
				else{
					maro.onGround = 0;
					maro.Yspeed += 1; //gravity
				}
				
				
				/*if (maro.Xpos <= 5 && maro.left == 1){
					maro.onWall = 1;
					if (maro.Yspeed > 5){maro.Yspeed = 5;}
				}
				else{}*/
				
				
					
				maro.Xpos += maro.Xspeed;
				maro.Ypos += maro.Yspeed;
				
				
				
				if(maro.Xpos < 0){maro.Xpos = 0; maro.Xspeed = 0;}
				if(maro.Xpos + 35 > canvas.width){maro.Xpos = canvas.width - 35; maro.Xspeed = 0;}
				if(maro.Ypos < 0){maro.Ypos = 0; maro.Yspeed = 0;}
				if(maro.Ypos + 60 > canvas.height){maro.Ypos = canvas.height - 60;}
				
				
				
				
        
        	ctx.beginPath();
                ctx.rect(maro.Xpos, maro.Ypos, 35, 60);
                ctx.fillStyle = "black";
                ctx.fill();
                ctx.closePath();
        
        
        
        
        
        
			}
			setInterval(draw, speed);
		</SCRIPT>

	</body>

</html>
