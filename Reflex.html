<!DOCTYPE html>
<html>

<head>

	<style>
		* {
			padding: 0;
			margin: 0;
		}
		
		canvas {
			background: blue;
			display: block;
			margin: 0 auto;
		}
	</style>

<title>Territory wars</title>
</head>

<body>

	<canvas id="myCanvas" width="1350" height="625">   </canvas>

	<body style="background-color:black;">

		<SCRIPT LANGUAGE="JavaScript">
    
			var canvas = document.getElementById("myCanvas");
			var ctx = canvas.getContext("2d");
			
			var dotPos = 0;
			var dotDraw = 0;
			var level = 0;
			var space = false;
			
			
			
			
			
			
			//========================================================================
			
			
			
			
			//========================================================================
			function draw() {
				
					ctx.clearRect(0, 0, canvas.width, canvas.height);
          
				
				
				
				dotPos += 0.01;
				dotDraw = Math.cos(dotPos*(1 + level/4))*400;
				
				
				
          
				document.addEventListener("keydown", keyDownHandler, false);
				document.addEventListener("keyup", keyUpHandler, false);
				
				function keyDownHandler(e) {
					if(e.keyCode == 32 && space = false){
						space = true;
						if(dotDraw <= 60 && dotDraw >= -60){
							dotPos = 0;
							level += 1;
						}
						else{
							dotPos = 0;
							level = 0;
						}
					}
				}
        			function keyUpHandler(e) {
				if(e.keyCode == 32){space = false;}
				}
        
				
				
					
				
				
				
			//green bar
			ctx.beginPath();
                	ctx.rect(canvas.width/2 - 420, 480, 840, 40);
                	ctx.fillStyle = "green";
                	ctx.fill();
                	ctx.closePath();
				
				
			//seperation lines
			ctx.beginPath();
                	ctx.rect(canvas.width/2 +60, 480, 5, 40);
                	ctx.fillStyle = "blue";
                	ctx.fill();
                	ctx.closePath();
				
			ctx.beginPath();
                	ctx.rect(canvas.width/2 -65, 480, 5, 40);
                	ctx.fillStyle = "blue";
                	ctx.fill();
                	ctx.closePath();
				
				
			//gray circle
			ctx.beginPath();
                	ctx.arc(canvas.width/2, 500, 10, 0, Math.PI * 2);
                	ctx.fillStyle = "gray";
                	ctx.fill();
                	ctx.closePath();
				
			//black bar
			ctx.beginPath();
                	ctx.rect(canvas.width/2 + dotDraw - 5, 490, 10, 20);
                	ctx.fillStyle = "black";
                	ctx.fill();
                	ctx.closePath();
				
				
				
			ctx.beginPath();
			ctx.font = "200px Arial";
		    	ctx.fillStyle = "#ff0000";
		    	ctx.textAlign = "center";
			ctx.fillText(level, canvas.width/2, 200);
				
        
        
			}
			setInterval(draw, 10);
		</SCRIPT>

	</body>

</html>
