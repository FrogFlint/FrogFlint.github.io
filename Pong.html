<!DOCTYPE html>
<html>

<head>

    <style>
        * {
            padding: 0;
            margin: 0;
        }
        
        canvas {
            background: white;
            display: block;
            margin: 0 auto;
        }
    </style>


</head>

<title>~=[,,_,,]:3</title>

<body>

    <canvas id="myCanvas" width="1366" height="625">   </canvas>

    <body style="background-color:black;">
        

        <SCRIPT LANGUAGE="JavaScript">
            var canvas = document.getElementById("myCanvas");
            var ctx = canvas.getContext("2d");



            var screenToDisplay;
			
			var varSwap;
			var gameScreen = "gameOver";
			
			var ball;
			ball = {
				Xpos:canvas.width/2,
				Ypos:canvas.height/2,
				Xmove:0,
				Ymove:0,
				size:42,
			}
     			var paddle1;
			paddle1 = {
				pos:100,
				move:0,
				score:0,
				size:150
			}
			var paddle2;
			paddle2 = {
				pos:100,
				move:0,
				score:0,
				size:150
			}
			
			
			var paddle1up = 0;
			var paddle1down = 0;
			var paddle2up = 0;
			var paddle2down = 0;
			
			
			
			var wallMode = "stop";
			var rand = 0;
			
			
			

			
			
						
			
			
			
			

            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
		//ctx.clearRect(0, 0, 15, canvas.height);
		//ctx.clearRect(canvas.width-15, 0, 15, canvas.height);


        //paddle1.pos = ball.Ypos-75;
        //paddle2.pos = ball.Ypos-paddle2.size/2;
        //autopaddles
        
        
        




			if (ball.Xpos - ball.size/2 <= 0){
			  if (gameScreen == "game"){
			    if (ball.Xpos - ball.size/2 < 15  &&  paddle1.pos < ball.Ypos + ball.size/2  &&  paddle1.pos + paddle1.size > ball.Ypos - ball.size/2){}
			    else {
			    	ball.Xmove = 0;
		  		  ball.Ymove = 0;
  			  	paddle2.size *= 0.95;
  			  	  if(paddle2.size < 15){paddle2.size = 15;}
	  			  paddle2.score += 1;
				    
				    gameScreen = "gameOver"
			    }
			  }
			}
			if (ball.Xpos + ball.size/2 >= canvas.width){
			  if (gameScreen == "game"){
			   if (ball.Xpos + ball.size/2 > canvas.width - 15  &&  paddle2.pos < ball.Ypos + ball.size/2  &&  paddle2.pos + paddle2.size > ball.Ypos - ball.size/2){}
         else {
    			  ball.Xmove = 0;
		    		ball.Ymove = 0;
				    paddle1.size *= 0.95;
				      if(paddle1.size < 15){paddle1.size = 15;}
			    	paddle1.score += 1;
		 		
			    	gameScreen = "gameOver"
          }
			  }
			}
			//ball scores
			
				if (paddle1.pos < 10){paddle1.pos = 10; paddle1.move = 0;}
				if (paddle1.pos + paddle1.size > canvas.height - 30){paddle1.pos = (canvas.height - 30) - paddle1.size; paddle1.move = 0;}
				if (paddle2.pos < 10){paddle.2pos = 10; paddle2.move = 0;}
				if (paddle2.pos + paddle2.size > canvas.height - 30){paddle2.pos = (canvas.height - 30) - paddle2.size; paddle2.move = 0;}
				//paddles stop at walls
				
				
				if (ball.Ypos + ball.size/2 >= canvas.height - 30 || ball.Ypos - ball.size/2 <= 10){
					ball.Ymove = -ball.Ymove;
					
				}
				//ball bounces off ceiling and floor
				
				
				if (gameScreen == "game" && ball.Xpos - ball.size/2 < 15  &&  paddle1.pos < ball.Ypos + ball.size/2  &&  paddle1.pos + paddle1.size > ball.Ypos - ball.size/2){
					//ballXpos = 15 + ballSize/2;
					ball.Xmove = -ball.Xmove;
					ball.Xpos = 15 + ball.size/2;
					gameScreen = "game";
					
					ball.Xmove *= 1.1;
					ball.Ymove *= 1.1;
					//ballSize += 5;
				}
				else if (gameScreen == "game" && ball.Xpos + ball.size/2 > canvas.width - 15  &&  paddle2.pos < ball.Ypos + ball.size/2  &&  paddle2.pos + paddle2.size > ball.Ypos - ball.size/2){
					//ballXpos = camvas.width - (15 + ballSize/2);
					ball.Xmove = -ball.Xmove;
					ball.Xpos = canvas.width - 15 - ball.size/2;
					gameScreen = "game";
					
					ball.Xmove *= 1.1;
					ball.Ymove *= 1.1;
					//ball.size += 5;
				}
				//ball bounces off paddles
//---------------------------------------------------------------------------------------------------------------------------------------------------------
				
				
				
					//top left
			//scores
				ctx.font = "200px Arial";
		    		ctx.fillStyle = "#0000ff";
		    		ctx.textAlign = "center";
				ctx.fillText(paddle1.score, canvas.width/2 -300, canvas.height/2 +50);
				
				ctx.font = "200px Arial";
				ctx.fillStyle = "#0000ff";
		    		ctx.textAlign = "center";
				ctx.fillText(paddle2.score, canvas.width/2 +300, canvas.height/2 +50);
		    
		    
                ctx.beginPath();
                ctx.rect(0, paddle1.pos, 15, paddle1.size);
                ctx.fillStyle = "grey";
                ctx.fill();
                ctx.closePath();
				
				        ctx.beginPath();
                ctx.rect(canvas.width - 15, paddle2.pos, 15, paddle2.size);
                ctx.fillStyle = "grey";
                ctx.fill();
                ctx.closePath();
				        //paddles
				
				ctx.beginPath();
                ctx.rect(0, 0, canvas.width, 10);
                ctx.fillStyle = "grey";
                ctx.fill();
                ctx.closePath();
				//floor and ceiling
				ctx.beginPath();
                ctx.rect(0, canvas.height, canvas.width, -30);
                ctx.fillStyle = "grey";
                ctx.fill();
                ctx.closePath();

				
					//center
                ctx.beginPath();
                ctx.arc(ball.Xpos, ball.Ypos, ball.size / 2, 0, Math.PI * 2);
                ctx.fillStyle = "black";
                ctx.fill();
                ctx.closePath();
				//ball
				
		    
		    
		    
		    

				
                		ball.Xpos += ball.Xmove;
                		ball.Ypos += ball.Ymove;
				paddle1.pos += paddle1.move;
				paddle2.pos += paddle2.move;
            
			
			document.addEventListener("keydown", keyDownHandler, false);
			document.addEventListener("keyup", keyUpHandler, false);
			function keyDownHandler(e) {
				
				if (e.keyCode == 82){paddle1up = 1;}
				if (e.keyCode == 70){paddle1down = 1;} //70 or 68
				if (e.keyCode == 85){paddle2up = 1;}
				if (e.keyCode == 74){paddle2down = 1;}
			
				
				
				if (e.keyCode == 32  &&  gameScreen == "gameOver"){
				gameScreen = "game";
				ball.Xpos = canvas.width/2;
				ball.Ypos = canvas.height/2;
				
				rand = Math.random()*4;
				if (rand < 1){ball.Xmove = -16; ball.Ymove = 10;}
				else if (rand < 2){ball.Xmove = -16; ball.Ymove = -10;}
				else if (rand < 3){ball.Xmove = 16; ball.Ymove = 10;}
				else if (rand < 4){ball.Xmove = 16; ball.Ymove = -10;}
				}
			}
				
			

			function keyUpHandler(e) {
				
				if (e.keyCode == 82){paddle1up = 0;}
				if (e.keyCode == 70){paddle1down = 0;}
				if (e.keyCode == 85){paddle2up = 0;}
				if (e.keyCode == 74){paddle2down = 0;}
			}
			
			
			
			if (paddle1up == 1){paddle1.pos -= 20;}
			if (paddle1down == 1){paddle1.pos += 20;}
			if (paddle2up == 1){paddle2.pos -= 20;}
			if (paddle2down == 1){paddle2.pos += 20;}
			
			
			
		}
            setInterval(draw, 20);

        </SCRIPT>

    </body>

</html>




